    <!DOCTYPE html>
    <head>
      <title>Real Time Messages</title>
      <link rel="stylesheet" href="style.css">
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

      


    </head>
    <body>
      <div class="container">
        <h1>Real Time Messages with Pusher</h1>
        <div>
          <form action="" id="mesSender">
            <div class="form-group">
              <input type="text" name="" id="userName" class="form-control" placeholder="Your Name" required>
            </div>
            <div class="form-group">
              <textarea name="" id="newMessage" cols="30" rows="4" class="form-control" placeholder="Enter Message"></textarea>
            </div>
            <button class="btn btn-primary" type="submit">Send Message</button>



          </form>
        </div>
        <div id="messages"></div>

        <script src="https://js.pusher.com/6.0/pusher.min.js"></script>
        <script>
      
          // Enable pusher logging - don't include this in production
          Pusher.logToConsole = true;
      
          var pusher = new Pusher('95ec86c745791e6b1b5f', {
            cluster: 'us2',
            encrypted: true
          });
      
          var channel = pusher.subscribe('my-channel');
          channel.bind('my-event', newComments);

          function newComments(data) {
            console.log(data);
          }

          document.querySelector('#mesSender').addEventListener('submit', addComment);

          function addComment(event) {
            event.preventDefault();
            var newComment = {
              "name" : document.getElementById('userName').value,
              "message": document.getElementById('newMessage').value
            }
            console.log(newComment);

            var xhr = new XMLHttpRequest();
            xhr.open('POST', '/comment');
            xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
            xhr.onreadystatechange = function() {
              if(xhr.readyState != 4 || xhr.status != 200) return;
              console.log(xhr.responseText);
            }
            xhr.send(JSON.stringify(newComment));
          }
        </script>

      </div>

    </body>
    
    

</html>